(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{169:function(t,s,e){},184:function(t,s,e){var n={"./af":34,"./af.js":34,"./ar":35,"./ar-dz":36,"./ar-dz.js":36,"./ar-kw":37,"./ar-kw.js":37,"./ar-ly":38,"./ar-ly.js":38,"./ar-ma":39,"./ar-ma.js":39,"./ar-sa":40,"./ar-sa.js":40,"./ar-tn":41,"./ar-tn.js":41,"./ar.js":35,"./az":42,"./az.js":42,"./be":43,"./be.js":43,"./bg":44,"./bg.js":44,"./bm":45,"./bm.js":45,"./bn":46,"./bn-bd":47,"./bn-bd.js":47,"./bn.js":46,"./bo":48,"./bo.js":48,"./br":49,"./br.js":49,"./bs":50,"./bs.js":50,"./ca":51,"./ca.js":51,"./cs":52,"./cs.js":52,"./cv":53,"./cv.js":53,"./cy":54,"./cy.js":54,"./da":55,"./da.js":55,"./de":56,"./de-at":57,"./de-at.js":57,"./de-ch":58,"./de-ch.js":58,"./de.js":56,"./dv":59,"./dv.js":59,"./el":60,"./el.js":60,"./en-au":61,"./en-au.js":61,"./en-ca":62,"./en-ca.js":62,"./en-gb":63,"./en-gb.js":63,"./en-ie":64,"./en-ie.js":64,"./en-il":65,"./en-il.js":65,"./en-in":66,"./en-in.js":66,"./en-nz":67,"./en-nz.js":67,"./en-sg":68,"./en-sg.js":68,"./eo":69,"./eo.js":69,"./es":70,"./es-do":71,"./es-do.js":71,"./es-mx":72,"./es-mx.js":72,"./es-us":73,"./es-us.js":73,"./es.js":70,"./et":74,"./et.js":74,"./eu":75,"./eu.js":75,"./fa":76,"./fa.js":76,"./fi":77,"./fi.js":77,"./fil":78,"./fil.js":78,"./fo":79,"./fo.js":79,"./fr":80,"./fr-ca":81,"./fr-ca.js":81,"./fr-ch":82,"./fr-ch.js":82,"./fr.js":80,"./fy":83,"./fy.js":83,"./ga":84,"./ga.js":84,"./gd":85,"./gd.js":85,"./gl":86,"./gl.js":86,"./gom-deva":87,"./gom-deva.js":87,"./gom-latn":88,"./gom-latn.js":88,"./gu":89,"./gu.js":89,"./he":90,"./he.js":90,"./hi":91,"./hi.js":91,"./hr":92,"./hr.js":92,"./hu":93,"./hu.js":93,"./hy-am":94,"./hy-am.js":94,"./id":95,"./id.js":95,"./is":96,"./is.js":96,"./it":97,"./it-ch":98,"./it-ch.js":98,"./it.js":97,"./ja":99,"./ja.js":99,"./jv":100,"./jv.js":100,"./ka":101,"./ka.js":101,"./kk":102,"./kk.js":102,"./km":103,"./km.js":103,"./kn":104,"./kn.js":104,"./ko":105,"./ko.js":105,"./ku":106,"./ku.js":106,"./ky":107,"./ky.js":107,"./lb":108,"./lb.js":108,"./lo":109,"./lo.js":109,"./lt":110,"./lt.js":110,"./lv":111,"./lv.js":111,"./me":112,"./me.js":112,"./mi":113,"./mi.js":113,"./mk":114,"./mk.js":114,"./ml":115,"./ml.js":115,"./mn":116,"./mn.js":116,"./mr":117,"./mr.js":117,"./ms":118,"./ms-my":119,"./ms-my.js":119,"./ms.js":118,"./mt":120,"./mt.js":120,"./my":121,"./my.js":121,"./nb":122,"./nb.js":122,"./ne":123,"./ne.js":123,"./nl":124,"./nl-be":125,"./nl-be.js":125,"./nl.js":124,"./nn":126,"./nn.js":126,"./oc-lnc":127,"./oc-lnc.js":127,"./pa-in":128,"./pa-in.js":128,"./pl":129,"./pl.js":129,"./pt":130,"./pt-br":131,"./pt-br.js":131,"./pt.js":130,"./ro":132,"./ro.js":132,"./ru":133,"./ru.js":133,"./sd":134,"./sd.js":134,"./se":135,"./se.js":135,"./si":136,"./si.js":136,"./sk":137,"./sk.js":137,"./sl":138,"./sl.js":138,"./sq":139,"./sq.js":139,"./sr":140,"./sr-cyrl":141,"./sr-cyrl.js":141,"./sr.js":140,"./ss":142,"./ss.js":142,"./sv":143,"./sv.js":143,"./sw":144,"./sw.js":144,"./ta":145,"./ta.js":145,"./te":146,"./te.js":146,"./tet":147,"./tet.js":147,"./tg":148,"./tg.js":148,"./th":149,"./th.js":149,"./tk":150,"./tk.js":150,"./tl-ph":151,"./tl-ph.js":151,"./tlh":152,"./tlh.js":152,"./tr":153,"./tr.js":153,"./tzl":154,"./tzl.js":154,"./tzm":155,"./tzm-latn":156,"./tzm-latn.js":156,"./tzm.js":155,"./ug-cn":157,"./ug-cn.js":157,"./uk":158,"./uk.js":158,"./ur":159,"./ur.js":159,"./uz":160,"./uz-latn":161,"./uz-latn.js":161,"./uz.js":160,"./vi":162,"./vi.js":162,"./x-pseudo":163,"./x-pseudo.js":163,"./yo":164,"./yo.js":164,"./zh-cn":165,"./zh-cn.js":165,"./zh-hk":166,"./zh-hk.js":166,"./zh-mo":167,"./zh-mo.js":167,"./zh-tw":168,"./zh-tw.js":168};function a(t){var s=i(t);return e(s)}function i(t){if(!e.o(n,t)){var s=new Error("Cannot find module '"+t+"'");throw s.code="MODULE_NOT_FOUND",s}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=i,t.exports=a,a.id=184},192:function(t,s,e){"use strict";var n=e(169);e.n(n).a},211:function(t,s,e){"use strict";e.r(s);var n=e(17),a=document.querySelectorAll("[data-pk-atts]"),i={name:"App",data(){return{elements:a,found:null,dateObj:this.moment(),diff:0,latestValue:null,error:!1,serverTime:null,timeDiffMin:null,intervall:"1min",timeIntervalsKeyG:{"1min":{minutes:1},"5min":{minutes:5},"15min":{minutes:15},"30min":{minutes:30},"1h":{minutes:60},"3h":{minutes:180},"5h":{minutes:300},"1d":{minutes:1440},"3d":{minutes:4320},"1w":{minutes:10080}}}},methods:{async getIntervall(){const t=await fetch(this.found.site_url+"/wp-json/mqtt-plugin-pro/v1/settings/get/intervall",{method:"GET",headers:{"Content-Type":"application/json"}}),s=await t.json();this.intervall=s.mqtt_pro_mqtt_interval},async getTimeStamp(){const t=await fetch(this.found.site_url+"/wp-json/mqtt-plugin-pro/v1/mqtt-functions/get/timestamp",{method:"GET",headers:{"Content-Type":"application/json"}}),s=await t.json();this.serverTime=s.Date;var e=new this.moment(this.serverTime),n=new this.moment(new Date),a=this.moment.duration(n.diff(e)).asMinutes();this.timeDiffMin=a},async getLatest(){const t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({topic:this.found.topic})},s=await fetch(this.found.site_url+"/wp-json/mqtt-plugin-pro/v1/mqtt-functions/get-latest",t),e=await s.json();e.res?(this.latestValue=e.res,this.diff=-1*this.moment.duration(this.moment(this.latestValue.RecordCreated).add(this.timeDiffMin,"minutes").diff(this.dateObj)).asMinutes().toFixed(0)):this.error=!0}},async created(){for(var t,s=this,e=0;e<s.elements.length;e++){var n=s.elements[e],a=JSON.parse(n.getAttribute("data-pk-atts"));a.id==s.$parent._data.instance&&(t=a)}s.found=t,s.found.icon||(s.found.icon="poo"),await s.getIntervall(),await s.getLatest(),await s.getTimeStamp(),setInterval(async()=>{await s.getLatest(),await s.getTimeStamp()},5e3)}},r=(e(192),e(16)),o=Object(r.a)(i,(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{},[t.found?e("div",{class:"shadow p-3 mb-1 bg-white rounded "+(t.error?"bg-light-danger":"")},[t.timeDiffMin&&t.latestValue?e("div",{staticClass:"d-flex align-items-top justify-content-between"},[e("div",[e("h1",{staticClass:"mb-0 pb-0 value-text"},[t._v("\n          "+t._s(parseFloat(t.latestValue.DataSet).toFixed(2))),e("b",{staticClass:"ml-2 suffix-text"},[t._v(t._s(t.found.suffix))])]),t._v(" "),e("div",{staticClass:"text-muted"},[e("b-badge",{attrs:{variant:t.diff>2*t.timeIntervalsKeyG[t.intervall].minutes?"danger":"success"}},[t._v(t._s(t.diff>2*t.timeIntervalsKeyG[t.intervall].minutes?"OFFLINE":"ONLINE"))]),t._v(" "),e("span",{staticClass:"text-muted"},[t._v("\n            Last value\n            "+t._s(t.moment(t.latestValue.RecordCreated).add(t.timeDiffMin,"minutes").fromNow())+"\n          ")])],1)]),t._v(" "),e("b-avatar",{attrs:{variant:"primary"}},[e("font-awesome-icon",{attrs:{icon:["fad",t.found.icon]}})],1)],1):t.error?t.error?e("div",[t._v("\n      Could not receive MQTT Data, ask the site administrator for help\n    ")]):t._e():e("div",[e("div",{staticClass:"d-flex justify-content-between"},[e("b-skeleton",{attrs:{type:"input",width:"50%"}}),t._v(" "),e("b-skeleton",{attrs:{type:"avatar"}})],1),t._v(" "),e("div",{staticClass:"d-flex justify-content-between"},[e("b-skeleton",{attrs:{width:"30%"}}),t._v(" "),e("b-skeleton",{attrs:{width:"50%"}})],1)])]):t._e()])}),[],!1,null,"023d3aa8",null).exports,l=e(30),j={name:"Home",data:()=>({msg:"Welcome to Your Vue.js Frontend App"})},m=Object(r.a)(j,(function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"hello"},[s("span",[this._v(this._s(this.msg))])])}),[],!1,null,null,null).exports,u={name:"Profile",data:()=>({})},d=Object(r.a)(u,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"profile"},[this._v("\n  The Profile Page\n")])}),[],!1,null,"4beb872e",null).exports;n.default.use(l.a);var c=new l.a({routes:[{path:"/",name:"Home",component:m},{path:"/profile",name:"Profile",component:d}]}),f=e(22),h=e(172),p=e(173),v=e(174),b=e(175),g=e(176),w=e(177),y=e(178),k=(e(182),e(183),e(8)),_=e.n(k);f.c.add(p.a),f.c.add(v.a),f.c.add(b.a),f.c.add(g.a),n.default.component("font-awesome-icon",h.a);for(var z=document.querySelectorAll("[data-pk-atts]"),x=[],T=[],C=0;C<z.length;C++){var O=z[C].getAttribute("class").split("mqtt-pro-whopper-")[1];x.push(O)}for(C=0;C<x.length;C++){n.default.use(w.a),n.default.use(y.a),n.default.config.productionTip=!1,n.default.prototype.moment=_.a,console.log("#vue-frontend-app-"+x[C]);var q={instance:x[C]};Object.freeze(q),T[C]=new n.default({el:"#vue-frontend-app-"+x[C],router:c,data:q,render:t=>t(o)})}}},[[211,0,1]]]);